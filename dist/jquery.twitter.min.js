/*! jQuery Twitter Plugin - v0.2.1 - 2012-09-14
* https://github.com/boazsender/jQuery-Twitter-Plugin
* Copyright (c) 2012 Boaz Sender; Licensed MIT, GPL */
var linkify=linkify||function(){};(function(e,t){var n=function(e){return e.replace(/[@]+[a-z0\-9-_]+/ig,function(e){return e.link("http://twitter.com/"+e.replace("@",""))})},r=function(e){return e.replace(/[#]+[a-z0\-9-_]+/ig,function(e){return e.link("http://search.twitter.com/search?q="+e.replace("#","%23"))})},i={media:function(e,t){return i.urls(e,t)},urls:function(e,t){return"<a href='"+t.url+"' title='"+t.expanded_url+"'>"+t.display_url+"</a>"},user_mentions:function(e,t){return"<a href='http://twitter.com/"+t.screen_name+"' title='"+t.name+"'>@"+t.screen_name+"</a>"},hashtags:function(e,t){return"<a href='http://search.twitter.com/search?q=%23"+t.text+"'>#"+t.text+"</a>"}},s=function(t){var n=t.text,r=[];return e.each(t.entities,function(t,n){e.each(n,function(e,n){n.type=t}),r=r.concat(n)}),r.sort(function(e,t){return e.indices[0]<t.indices[0]}),e.each(r,function(e,t){i[t.type]&&(n=n.slice(0,t.indices[0])+i[t.type](n,t)+n.slice(t.indices[1]))}),n};e.twitter=function(t,n){if(!t)return!1;var r,i="",s=new RegExp(!1);typeof t=="string"?r=e.extend({},e.twitter.opts,{q:t}):(t.rpp=t.limit?t.limit:t.rpp,t.limit=t.limit?t.limit:t.rpp,i=t.exclusions?t.exclusions.replace(" ","|"):!1,s=i?new RegExp(i):!1,r=e.extend({},e.twitter.opts,t),r.rpp=r.exclusions||!r.replies||!r.retweets?r.rpp*10:r.rpp),e.getJSON("http://search.twitter.com/search.json?callback=?",r,function(e){n(e,r,s)})},e.fn.twitter=function(i,o){return i?this.each(function(){var u=e(this);e.twitter(i,function(i,a,f){var l=e("<ul>"),c=0,h;if(i.results&&i.results.length){for(h in i.results){var p=i.results[h],d=!a.replies&&p.to_user_id?!1:!0,v=!a.retweets&&p.text.slice(0,2)==="RT"?!1:!0;if(!d)continue;if(!v)continue;if(f&&f.test(p.text))continue;var m=e("<li/>",{"class":"tweet"});a.avatar===!0&&m.append(e("<a/>",{href:"http://twitter.com/"+p.from_user,html:"<img src='"+p.profile_image_url+"'/>"}));var g="<a href='http://twitter.com/"+p.from_user+"'>@"+p.from_user+"</a>: ";a.include_entities?g+=s(p):g+=n(r(t(p.text))),m.append(e("<span>",{"class":"content",html:g})).appendTo(l),c++;if(c===a.limit)break}u.html(l),o&&o(!0)}else u.html(e("<h3/>",{"class":"twitter-notFound",text:a.notFoundText})),o&&o(!1)})}):this},e.twitter.opts={limit:7,exclusions:"",notFoundText:"No results found on twitter",replies:!0,retweets:!0,ands:"",phrase:"",ors:"",nots:"",tag:"",lang:"",from:"",to:"",ref:"",near:"",within:"",units:"",since:"",until:"",tude:"",filter:"",include:"",rpp:5,q:"",avatar:!0,include_entities:!0}})(jQuery,linkify);